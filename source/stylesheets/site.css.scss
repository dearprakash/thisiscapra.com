@import "partials/common";
@import "partials/normalize";
@import "partials/gridset";
@import "partials/o_gridset";

// Basic layout setup

html {
  background-color: lighten($dark-grey, 5%);
  //background-color: #f2f2f2;
  width:100%;
  -ms-touch-action: manipulation;
  touch-action: manipulation;
}
body {
  background-color: #fff;
  color: $dark-grey;
  background-image: url("../images/carbon-fibre.png");
  background-repeat: repeat;
  font: 300 110%/1.5 $sentinel;
  margin: 0 auto;
  max-width: 1600px;
  position: relative;
  width:100%;
  @media screen and (max-width: 1350px) {
    font-size: 112.5%;
  }
  @media screen and (max-width: 1150px) {
    font-size: 100%;
  }
}
section, article {
  position: relative;
  @extend %clearfix;
  > header {
    background-color: $dark-grey;
    color: $white;
    background-image: url("../images/carbon-fibre.png");
    background-repeat: repeat;
    padding: 16em 17%;
    text-align: center;
    @media screen and (max-width: 1000px) {
      padding: 16em 4%;
    }
    @media screen and (max-width: 750px) {
      padding: 8em 4%;
    }
  }
}
// Content blocks
.content {
  padding: 16em 4%;
  @include box-sizing(border-box);
  @extend %clearfix;
  @media screen and (max-width: 750px) {
    padding: 8em 4%;
  }
  @media screen and (max-width: 750px) {
    &:not(header) {
      padding: 3em 4%;
    }
  }
  &.narrow {
    padding-left: 17%;
    padding-right: 17%;
    @media screen and (max-width: 1000px) {
      padding-left: 4%;
      padding-right: 4%;
    }
  }
  &.light {
    background-color: $white;
    h1,h2,h3,p {
      color: $dark-grey;
    }
  }
  &.dark {
    background-color: $dark-grey;
    color: $white;
    h1,h2,h3,p {
      color: $white;
    }
  }
  &.color {
    background-color: $pantone-green;
    h1,h2,h3,p {
      color: $white;
    }
  }
  &.background {
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    color: $white;
    padding: 22em 4%;
  }
  @media screen and (max-width: 1200px) {
    .narrow {
      padding: 16.2em 4%;
    }
  }
}
img {
  display: block;
  margin: 0 auto;
  max-width: 100%;
}
hr {
  background-color: #e1e1e1;
  border: 0;
  clear:both;
  height: 1px;
  margin: 6em 0 6em;
  width: 100%;
}
#work-bar {
  color: #fff;
  font-size: 0.8em;
  text-align: center;
  padding: 0.3em 1em;
}
.row {
  margin: 0 auto;
  text-align: left;
  width: 100%;
  @extend %clearfix;
}

// Typography

h1, h2, h3, h4, 
// .intro:first-of-type:first-letter, 
.blog-entry .content>p:first-of-type:first-letter,
blockquote {
  font-family: $quatro;
  font-weight: 500;
  margin: 0;
}
h1 {
  font-size: 4.2em;
  line-height: 1.166;
  margin-bottom: 0.8em;
  text-align: center;
  @media screen and (max-width: 550px) {
    font-size: 3em;
  }
}
h2, blockquote {
  font-size: 3.6em;
  line-height: 1.1;
  margin: -0.2em 0 0.75em;
  + small {
    display: block;
    margin: -1em 0 1em;
    text-align: center;
  }
  @media screen and (max-width: 550px) {
    font-size: 2.8em;
  }
}
h3 {
  font-size: 2.8em;
  line-height: 1.2;
  margin-bottom: 0.9em;
  @media screen and (max-width: 550px) {
    font-size: 2.4em;
  }
}
h4 {
  font-size: 2em;
  line-height: 1.2;
  margin-bottom: 0.9em;
  @media screen and (max-width: 550px) {
    font-size: 2.2em;
  }
}
p {
  margin: 0 auto 2.5em;
  position: relative;
  width: 100%;
  &.intro {
    font-size: 1.3em;
    text-align: center;
    // @media screen and (max-width: 550px) {
    //   font-size: 1em;
    // }
  }
}

// Links

a {
  color: $pantone-green;
  text-decoration: none;
  @include transition(color 0.1s ease);
  &:hover {
    color: $pantone-green;
  }
}

strong {
  color: #000;
  font-weight: 700;
}
figure {
  text-align: center;
}
.client-blockquote {
  background-color: $pantone-green;
  color: $white;
  padding: 25% 4%;
}
figcaption {
  color: $dark-grey;
  clear: both;
}
blockquote {
  font-family: $quatro;
  margin: 0 auto;
  max-width: $max-width;
  text-align: center;
  width: gs-width(c,2,7);
  p {
    margin-bottom: 1em;
  }
  &:before {
    content: 'â€œ';
    font-size: 4em;
    font-style: normal;
    font-weight: 700;
    line-height: 0;
  }
}
ul {
  margin: 0 0 1em 1em;
  padding: 0;
}
li {
  margin-bottom: 0.3em;
}

// Social

.social-icons {
  span {
    display: none;
  }
  margin: 0 0 1.5em;
  padding: 0;
  li {
    display: inline;
    margin-right: 1em;
    font-size: 1.8em;
    @media screen and (max-width: 550px) {
      font-size: 1.6em;
    }
    @media screen and (max-width: 450px) {
      font-size: 1.2em;
    }
    &:last-child {
      margin: 0;
    }
    a {
      border-color: $pantone-green;
      border-style: solid;
      border-width: 5px;
      border-radius: 4em;
      color: $pantone-green;
      padding: 0.8em 0.4em;
      text-align: center;
      @include transition(all 0.1s ease);
      &:hover {
        border-color: $white;
        color: $white;
      }
    }
  }
}

// Forms 

input, textarea {
  background-color: #fff;
  border: 1px solid #e1e1e1;
  border-radius: 0;
  box-shadow: none;
  display: block;
  font-family: $sentinel;
  font-size: 1.6em;
  padding: 0.6em;
  @include box-sizing(border-box);
  width: 100%;
  &[type="radio"],
  &[type="checkbox"] {
    margin: 0;
    padding: 0;
    vertical-align: middle;
    width: auto;
  }
}
textarea {
  min-height: 300px;
}
label {
  display: block;
  margin-bottom: 0.4em;
  > input {
    border: 0;
    display: inline-block;
    margin-right: 0.3em !important;
    position: relative;
    top: -2px;
    vertical-align: middle;
  }
}
fieldset {
  > div {
    margin-bottom: 1.5em;
    &:last-child {
      margin: 0;
    }
    &.radios> label {
      text-align: left;
      padding: 0.4em;
      border: 1px solid #e1e1e1;
      width: 45%;
      display: inline-table;
      margin-bottom: -1px;
    }
  }
}
.req {
  color: $contact-green;
  font-weight: 800;
}
::-webkit-input-placeholder {
   color: #999;
   font-size: 0.6em;
   line-height: 2;
}
:-moz-placeholder { /* Firefox 18- */
   color: #999;
   font-size: 0.6em;
   line-height: 2;
}
::-moz-placeholder {  /* Firefox 19+ */
   color: #999;
   font-size: 0.6em;
   line-height: 2;
}
:-ms-input-placeholder {  
   color: #999;
   font-size: 0.6em;
   line-height: 2;
}
.button {
  background-color: $pantone-green;
  border: none;
  border-radius: 0;
  color: #fff;
  display: inline-block;
  font-family: $sentinel;
  font-weight: 300;
  font-size: 1.4em;
  margin: 0 auto;
  padding:0.8em 2em;
  text-align: center;
  @include box-sizing(border-box);
  -webkit-appearance: none;
  &:hover {
    background-color: $white;
    color: $pantone-green;
    @include transition(all 0.5s ease);
  }
  @media screen and (max-width: 400px) {
    font-size: 1em;
    width: 100%;
  }
}

// Header 

#header {
  background-color: rgba($dark-grey,0);
  height: 190px;
  margin: 0 auto;
  max-width: 1600px;
  padding: 4em 2em;
  position: fixed;
  top: 0;
  text-align: center;
  width: 100%;
  z-index: 100;
  @include box-sizing(border-box);
  @include transition(all 0.3s ease);
  @media screen and (max-width: 550px) {
    padding: 2em 0;
  }
  .scrolling & {
    background-color: rgba($dark-grey,0.96);
    height: 100px;
    padding: 1.5em 2em;
    @media screen and (max-width: 550px) {
      height: 60px;
      padding: 0.8em 2em;
    }
  }
}
nav {
  font-weight: 400;
  ul {
    margin: 0;
  }
  li {
    display: inline;
    margin-right: 6em;
    &:nth-child(2) {
      margin-right: 16em;
    }
    &:last-child {
      margin-right: 0;
    }
    @media screen and (max-width: 950px) {
      margin-right: 4em;
      &:nth-child(2) {
        margin-right: 12em;
      }
    }
    @media screen and (max-width: 750px) {
      margin-right: 2em;
      &:nth-child(2) {
        margin-right: 8em;
      }
    }
  }
  a {
    color: $white;
    &:hover, &.active {
      color: $pantone-green;
    }
  }
  @media screen and (max-width: 950px) {
    margin-top: 0.5em;
  }
  @media screen and (max-width: 550px) {
    font-size: 0.9em;
    li {
      margin-right: 1.5em;
      &:nth-child(2) {
        margin-right: 6em;
      }
      &:last-child {
        margin-right: 0;
      }
    }
  }
}
#logo {
  cursor: pointer;
  left: 50%;
  height: 73px;
  margin-left: -40px;
  opacity: 1;
  position: absolute;
  overflow: hidden;
  top: 3em;
  width: 80px;
  @include transition(all 0.3s ease);
  > svg {
    display: inline-block;
    position: absolute;
    top:0;
    left:0;
    width: 100%;
    path {
      fill: $pantone-green;
    }
  }
  &:hover {
    opacity: 0.5;
  }
  .scrolling & {
    margin-left: -30px;
    top: 0.6em;
    width: 60px;
  }
  @media screen and (max-width: 550px) {
    top: 1em;
    margin-left: -28px;
    width: 50px;
    .scrolling & {
      margin-left: -23px;
      top: -0.4em;
      width: 40px;
    }
  }
}

// Footer

#footer {
  background-color: $dark-grey;
  background-image: url("../images/carbon-fibre.png");
  background-repeat: repeat;
  color: $white;
  text-align: center;
  @extend %clearfix;
  ul:last-child {
    margin: 0;
    list-style: none;
  }
  a {
    color: $pantone-green;
    &:hover {
      color: $white;
    }
  }
  .social-icons {
    margin-bottom: 4em;
    a:hover {
      border-color: $white;
    }
  }
}

// Homepage 

.page-index {
  height: 100%;
}
.home-intro {
  background-color: $dark-grey;
  color: $white;
  text-align: center;
  h1,p {
    margin-left: auto;
    margin-right: auto;
    max-width: gs-width(c,2,7,false,true);
  }
}
.home-about-us {
  h2 {
    @include gs-span(c,1,4);
    @media screen and (max-width: 750px) {
      float: none;
      text-align: center;
      width: 100%;
    }
  }
  p {
    @include gs-span(c,5,8);
  }
  p:first-of-type {
    @extend %first-letter;
    @media screen and (max-width: 750px) {
      float: none;
      margin: 0 auto;
      width: 80%;
    }
    @media screen and (max-width: 550px) {
      float: none;
      margin: 0 0 2em;
      width: 100%;
    }
  }
}

// Featured projects - randomly alternate using JS

.featured-projects {
  color: $white;
  padding: 0 !important;
  img {
    width: 100%;
  }
  .button {
    background-color: $white;
    &:hover {
      background-color: rgba($white, 0.7);
    }
  }
  article {
    display: none;
    text-align: center;
    position: relative;
    &.ft-alfred-app {
      background-image: url("../images/work/alfred-app/alfred-app-featured.jpg");
      .button {
        color: $alfred-color;
      }
    }
    &.ft-pantera {
      background-image: url("../images/work/pantera/pantera-featured.jpg");
      .button {
        color: $pantera-color;
      }
    }
    &.ft-alton-convent-school {
      background-image: url("../images/work/alton-convent-school/alton-convent-featured.jpg");
      .button {
        color: $alton-convent-color;
      }
    }
    &.ft-sports-digest-8-50 {
      background-image: url("../images/work/sports-digest-8-50/8-50-featured.jpg");
      .button {
        color: $sports-digest-color;
      }
    }
  }
  &.pantera .ft-pantera,
  &.alfred-app .ft-alfred-app,
  &.alton-convent-school .ft-alton-convent-school,
  &.sports-digest-8-50 .ft-sports-digest-8-50 {
    display: block;
  }
  .overlay {
    left: 0;
    padding: 0 17%;
    position: absolute;
    top: 40%;
    right: 0;
    text-align: center;
    z-index: 2;
    //@extend %vertical-align
  }
}


// Per client body class changes

// Alfred

body.alfred-app {
  @include colour-scheme($alfred-color, $button: true, $lighten: true);
  .client-header {
    background-image: url("../images/work/alfred-app/alfred-app-featured.jpg");
  }
}

body.trickits {
  @include colour-scheme($trickits-color, $button: true, $lighten: true);
}

body.sports-digest-8-50 {
  @include colour-scheme($sports-digest-color, $button: true, $lighten: true);
  .client-header {
    background-image: url("../images/work/sports-digest-8-50/8-50-featured.jpg");
  }
}

body.alton-convent-school {
  @include colour-scheme($alton-convent-color, $button: true, $lighten: true);
  .client-header {
    background-image: url("../images/work/alton-convent-school/alton-convent-featured.jpg");
  }
}

body.mind-the-product {
  @include colour-scheme($mtp-color, $button: true, $lighten: true);
  .client-header {
    background-image: url("../images/work/mind-the-product/mind-the-product-featured.jpg");
  }
}

body.backpagefootball {
  @include colour-scheme($backpagefootball-color, $button: true, $lighten: true);
  .client-header {
    background-image: url("../images/work/backpagefootball/backpagefootball-featured.jpg");
  }
}

body.toto {
  @include colour-scheme($toto-color, $button: true, $lighten: true);
  .client-header {
    background-image: url("../images/work/toto/toto-featured.jpg");
  }
}

body.cold-claim {
  @include colour-scheme($cold-claim-color, $button: true, $lighten: true);
  .client-header {
    background-image: url("../images/work/cold-claim/cold-claim-featured.jpg");
  }
}

body.super-better {
  @include colour-scheme($super-better-color, $button: true, $lighten: true);
  .client-header {
    background-image: url("../images/work/super-better/super-better-featured.jpg");
  }
}

body.pantera {
  @include colour-scheme($pantera-color, $button: true, $lighten: true);
  .client-header {
    background: url("../images/work/pantera/pantera-featured.jpg") center no-repeat;
    background-size: cover;
  }
}

body.river-ranger {
  @include colour-scheme($river-ranger-color, $button: true, $lighten: true);
  .client-header {
    background: url("../images/labs/river-ranger/river-ranger-featured.jpg") center no-repeat;
    background-size: cover;
  }
}

body.hip-hop-quoted {
  @include colour-scheme($hip-hop-quoted-color, $button: true, $lighten: true);
  .client-header {
    background: url("../images/labs/hip-hop-quoted/hip-hop-quoted-featured.jpg") center no-repeat;
    background-size: cover;
  }
}

body.dragimals {
  @include colour-scheme($dragimals-color, $button: true, $lighten: true);
  .client-header {
    background: url("../images/labs/dragimals/dragimals-featured.jpg") center no-repeat;
    background-size: cover;
  }
}

// Work page 

.page-work {

  background-color: $dark-grey;
  @include colour-scheme($pantone-green, $button: true, $lighten: true);
}
.work-list {
  margin: 0 auto;
  padding: 0;
  text-align: center;
  width: 100%;
  a {
    display: block;
    &:after {
      bottom: 0;
      content:"";
      left: 0;
      position: absolute;
      top: 0;
      right: 0;
      @include transition(background-color 0.2s ease);
      -webkit-backface-visibility: hidden;
    }
  }
  img {
    width: 100%;
  }
  h2 {
    color: #fff;
    left: 0;
    position: absolute;
    text-align: center;
    top: 43%;
    z-index: 10;
    width: 100%;
    @media screen and (max-width: 550px) {
      font-size: 1.6em;
    }
  }
  li {
    display: block;
    list-style: none;
    margin: 0;
    position: relative;
    &.pantera {
      @include work-list-hover($pantera-color);
    }
    &.alfred-app {
      @include work-list-hover($alfred-color);
    }
    &.sports-digest-8-50 {
      @include work-list-hover($sports-digest-color);
    }
    &.alton-convent-school {
      @include work-list-hover($alton-convent-color);
    }
    &.mind-the-product {
      @include work-list-hover($mtp-color);
    }
    &.super-better {
      @include work-list-hover($super-better-color);
    }
    &.backpagefootball {
      @include work-list-hover($backpagefootball-color);
    }
    &.cold-claim {
      @include work-list-hover($cold-claim-color);
    }
    &.toto {
      @include work-list-hover($toto-color);
    }
    &.hip-hop-quoted {
      @include work-list-hover($hip-hop-quoted-color);
    }
    &.river-ranger {
      @include work-list-hover($river-ranger-color);
    }
    &.dragimals {
      @include work-list-hover($dragimals-color);
    }
  }
}
.work_index {
  .content {
    padding-right: 0;
    padding-left: 0; 
  }
  @extend %large-header;
}
.work {
  padding: 0;
}
.work-nav {
  margin: 0 auto;
  max-width: 1600px;
  padding: 0;
  width: 100%;
  li {
    list-style: none;
    margin: -60px auto 0;
    position: fixed;
    top: 50%;
    z-index: 100;
    @include box-sizing(border-box);
    &.next {
      float: right;
      right: 0;
    }
    &.prev {
      float: left;
      left: 0;
    }
  }
  a {
    display: block;
    font-size: 2em;
    line-height: 0.5;
    padding: 0.8em 0.8em 1em;
    text-align: center;
    @include transition(background-color 0.1s linear);
    > span {
      display: none;
    }
  }
  @media screen and (max-width: 975px) {
    bottom: 0;
    position: fixed;
    top: auto;
    z-index: 100;
    li {
      margin: 0;
      position: static;
      width: 50%;
      > a {
        line-height: 0.5;
        padding: 0.3em 0.3em 0.5em;
      }
      &.first, &.last {
        width: 100%;
      }
      a {
        font-size: 1em;
        padding: 1em;
        > span {
          display: inline-block;
        }
      }
    }
  }
}
.work-item {
  background-color: $white;
  padding: 0;
  .client-header {
    background-repeat: no-repeat;
    background-position: center;
    background-size: cover;
    padding: 16em 4%;
    @media screen and (max-width: 700px) {
      padding: 10em 4%;
    }
  }
  div:first-of-type {
    padding-bottom: 0;
    @media screen and (max-width: 700px) {
      padding-top: 2em;
    }
  }
  h1 {
    margin-bottom: 0.2em;
  }
  p {
    max-width: 100%;
    width: 100%;
    &.sub-text {
      margin: 6em auto 0;
      max-width: 700px;
      @extend %first-letter;
      @include box-sizing(border-box);
      + hr {
        margin-bottom: 0;
      }
      @media screen and (max-width: 700px) {
        padding: 0 4%;
      }
    }
  }
  hr:first-of-type {
    margin-bottom: 0;
  }
  figure:not(.client-blockquote) {
    padding: 6em 4%;
    + hr {
      margin-bottom: 0;
    }
    &:first-of-type {
      margin-top: 0;
    }
  }
}
.project-link {
  margin: 1em 0 2em;
  text-align: center;
}
.hire {
  font: 800 3.2em/1.5 $quatro;
  margin: 0;
  padding: 1em 0 2em;
  text-align: center;
  @media screen and (max-width: 700px) {
    font-size: 1.8em;
  }
}
.client-intro {
  @include gs-span(c,1,4);
  p:first-of-type:first-letter {
    @extend %first-letter;
  }
  @media screen and (max-width: 700px) {
    float: none;
    margin: 0 0 2em;
    width: 100%;
  }
}
.what-we-did {
  @include gs-span(c,6,8);
  h2 {
    margin: 0;
    text-align: left;
  }
  li {
    margin-bottom: 0.27em;
  }
  @media screen and (max-width: 700px) {
    float: none;
    margin: 0;
    width: 100%;
  }
}
.gallery {
  margin-bottom: 2em;
  .image {
    border-bottom: 1px solid #e1e1e1;
    @include box-sizing(border-box);
  }
}
.other-work {
  background-color: $dark-grey;
  padding: 0;
}

// Labs

body.labs_index {
  background-color: $dark-grey;
  background-image: url("../images/project-paper.png");
  background-repeat: repeat;
  @include colour-scheme($pantone-green, $button: true, $lighten: true);
}

// Blog 

.page-blog, .page-tags {
  @include colour-scheme($pantone-green, $button: true, $lighten: true);
}
.blog_index {
  header {
    background-image: url("../images/carbon-fibre.png");
    background-repeat: repeat;
    padding-top: 0;
    @extend %large-header;
  }
}
.blog {
  margin: 0 auto;
  width: 100%;
  h1,h2,h3 {
    text-align: center;
  }
  small {
    color: lighten($dark-grey, 30%);
    display: block;
    margin-bottom: 1em;
    text-align: center;
  }
  .meta {
    color: lighten($dark-grey, 30%);
    display: block;
    margin-bottom: 1em;
    text-align: center;
  }
  .read-more {
    text-align: center;
  }
  .tags {
    color: #999;
    font-size: 0.9em;
  }
  article {
    h1,h2,h3,h4 {
      text-align: center;
    }
    margin-bottom: 2em;
    img {
      display: block;
      margin: 0 auto 2em;
      width: 100%;
    }
    > p {
      text-indent: 1em;
    }
    > .content {
      padding-top: 3em;
      padding-bottom: 2em;
    }
    &.summary {
      &:after {
        background-color: #e1e1e1;
        content: "";
        display: block;
        height: 1px;
        margin: 3em auto 0;
        width: 40%;
      }
      &:first-child:before {
        margin: 0 auto 3em;
      }
      &:last-child:after {
        display: none;
      }
    }
    @media screen and (max-width: 500px) {
      &.summary {
        p {
          //hyphens: auto;
          white-space: pre-wrap;
          word-break: break-all;
        }
      }
    }
  }
  .blog-entry div>p:first-of-type:first-letter {
    @extend %first-letter;
  }
  .blog-entry {
    > ul {
      margin-left: 2.5em;
      padding-right: 2em;
      &.article-nav {
        margin: 2em 0 0 0;
        padding: 2em 0 0 0;
      }
    }
    blockquote {
      border-top: 1px solid #e1e1e1;
      border-bottom: 1px solid #e1e1e1;
      margin: 1em 0;
      padding-top: 2em;
      &:before {
        display: block;
        height: 30px;
      }
    }
    iframe {
      height: auto !important;
      min-height: 400px;
      width: 100%;
    }
  }
}
.tags {
  border-top: 1px solid #e1e1e1;
  padding: 2em 4% 0;
}
.article-nav {
  border-top: 1px solid #e1e1e1;
  font-size: 0.8em;
  letter-spacing: -4px;
  margin: 3em 0 0 0;
  padding: 5em 0 1em;
  word-spacing: -4px;
  li {
    display: inline-block;
    letter-spacing: 0;
    margin: 0;
    padding: 0 4%;
    word-spacing: 0;
    width: 50%;
    vertical-align: top;
    @include box-sizing(border-box);
    &:nth-child(2) {
      text-align: right;
    }
    @media screen and (max-width: 400px) {
      display: block;
      margin-bottom: 0.5em;
      width: 100%;
      &.first-child,
      &.last-child {
        padding: 0;
      }
    }
  }
  @extend %clearfix;
}

// About & Contact pages

body.page-about {
  @include colour-scheme($pantone-green, $button: true, $lighten: true);
}
body.page-contact {
  @include colour-scheme($pantone-green, $button: false, $lighten: true);
}
body.page-thank-you {
  @include colour-scheme($pantone-green, $button: false, $lighten: true);
  header.content {
    background: url("../images/thank-you-background.jpg") center no-repeat;
    background-size: cover;
  }
}
.contact-menu {
  background-color: $pantone-green;
  margin: 0 auto;
  overflow: hidden;
  text-align: center;
  width: 100%;
  @include box-sizing(border-box);
  li {
    display: inline;
    float: left;
    font-size: 1.6em;
    margin: 0;
    width: 50%;
    @include box-sizing(border-box);
    &:first-child {
      border-right: 1px solid darken($pantone-green, 3%);
    }
    > a {
      color: $white;
      display: block;
      padding: 1.6em 1.2em;
      @include transition(background-color 0.2s ease);
      &:hover {
        background-color: darken($pantone-green, 3%);
        color: $white;
      }
      &:focus {
        outline: 0;
      }
    }
    &.active {
      border-bottom: 0;
      a {
        background-color: darken($pantone-green, 3%);
        color: $white;
      }
    }
  }
  @media screen and (max-width: 600px) {
    li {
      display: block;
      float: none;
      width: 100%;
      &:first-child {
        border: 0;
        border-bottom: 1px solid darken($pantone-green, 3%);
      }
    }
  }
}
section.contact {
  background-color: $white;
  .narrow {
    padding: 6em 17%;
    @media screen and (max-width: 750px) {
      padding: 6em 4%;
    }
  }
  > p {
    text-align: center;
  }
}
.contact-form {
  margin: 0 auto;
  text-align: left;
  width: 100%;
  @include box-sizing(border-box);
  @include transition(opacity 0.01s linear);
  h2, h3 {
    text-align: center;
  }
  h3 {
    margin: 2em 0 1em;
  }
  &.hidden {
    display: none;
    opacity: 0;
  }
  &.active {
    display: block;
    opacity: 1;
  }
  .button:hover {
    background-color: darken($pantone-green, 5%);
    color: $white;
  }
}
section.about {
  header {
    background: url("../images/carbon-fibre.png") repeat;
    p:first-of-type {
      font-size: 95%;
      @include gs-span(c,2,4);
      &:first-letter {
        @extend %first-letter;
      }
      @media screen and (max-width: 600px) {
        float: none;
        margin: 0 0 2em;
        width: 100%;
      }
    }
    p:last-of-type {
      font-size: 95%;
      @include gs-span(c,5,7);
      @media screen and (max-width: 600px) {
        float: none;
        margin: 0 0 2em;
        width: 100%;
      }
    }
    h4 {
      color: $pantone-green;
      font-style: italic;
      text-align: center;
      margin: 0 auto;
      width: gs-width(c,2,7,false, true);
      @media screen and (max-width: 600px) {
        width: 100%;
      }
    }
  }
}
section.contact {
  header {
    p {
      margin: 0 auto;
      width: gs-width(c,2,7,false, true);
    }
    .social-icons {
      margin: 6em 0 0;
    }
  }
}
.what-we-do, .team-members{
  background: $white;
}
.what-we-do-intro {
  @include gs-span(c,1,4);
  p:first-of-type {
    @extend %first-letter;
  }
}
.what-we-do-design {
  @include gs-span(c,5,6);
}
.what-we-do-build {
  @include gs-span(c,7,8);
}
.what-we-do-design,
.what-we-do-build {
  ul {
    font-size: 0.8em;
  }
}
.why-capra {
  div {
    @include gs-span(c,1,4);
    p:first-of-type {
      @extend %first-letter;
      &:first-letter {
        color: $white;
      }
    }
  }
  img {
    @include gs-span(c,5,8);
  }
}
.the-tribe {
  background-image: url("../images/about.jpg");
  text-align: center;
}
.email-contact {
  text-align: center;
  margin-top: 3em;
}
.member {
  .social-icons {
    font-size: 0.8em;
  }
  p{
    font-size: 90%;
  }
  p:first-of-type {
    @extend %first-letter;
  }
}
.member.ollie {
  @include gs-span(c,1,4);
}
.member.kat {
  @include gs-span(c,5,8);
}

.what-we-do-intro,
.what-we-do-design,
.what-we-do-build,
.member.ollie,
.member.kat,
.why-capra div, .why-capra img {
  @media screen and (max-width: 750px) {
    float: none;
    margin: 0 0 2em;
    width: 100%;
  }
}

// Some ie8 fixes 
.ie8 {
  overflow-x: hidden; 
  h1, h2, h3, h4, 
  .intro:first-of-type:first-letter, 
  .blog-entry div>p:first-of-type:first-letter,
  blockquote {
    font-weight: normal !important;
  }
  #logo {
    background: url('../images/logo.png') no-repeat center;
    height: 80px;
    width: 80px;
  }
  nav {
    margin-right: -45px;
    li:first-child + li {
      margin-right: 200px;
    }
    &:last-child {
      margin-right: 0;
    }
  }
  &.alfred-app {
    background-image: none;
    @include colour-scheme($alfred-color, $button: true, $lighten: true);
    .featured-item {
      //background-color: $alfred-color;
      background-image: url('/images/work/alfred-app/alfred-app-background.jpg');
      article.ft-alfred-app {
        display: block;
      }
    }
    &.page-index {
      @include colour-scheme($alfred-color, $button: true, $lighten: false);
    }
  }
  .work-item {
    > div:first-child {
      margin: 0 auto;
      width: 1000px;
    }
  }
  .row {
    margin: 0 auto;
    width: 1000px;
  }
  #footer {
    ul {
      list-style: none;
    }
  }
  .page-about {
    h2,h3 {
      text-align: center;
    }
  }
}

// Twitter widgets

.twitter-tweet{
  margin: 0 auto 2em !important;
  width: 100% !important;
}

// Modal windows

a[data-simplbox] {
  display: block;
  position: relative;
  &:after {
    background-color: $link-blue;
    border-radius: 2em;
    color: #fff;
    content: "\26B2";
    height: 1.5em;
    line-height: 1.5em;
    position: absolute;
    right: 1em;
    text-align: center;
    top: 1em;
    width: 1.5em;
    @include transform(rotate(45deg));
  }
}
#simplbox {
  background-color: #fff;
  box-shadow: 0 0 20px rgba(0,0,0,0.2);
  padding: 0.5em;
  position: relative;
  z-index: 9999;
  ms-touch-action: none;
  touch-action: none;
  &:after {
    background-color: $link-blue;
    color: #fff;
    content: "x";
    font-family: $quatro;
    font-weight: 600;
    padding: 0.2em 0.5em;
    position: absolute;
    text-transform: uppercase;
    top: 0;
    right: 0;
    @include transition(background-color 0.05s linear);
  }
}